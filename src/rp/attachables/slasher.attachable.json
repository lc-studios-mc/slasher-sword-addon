{
	"format_version": "1.10.0",
	"minecraft:attachable": {
		"description": {
			"identifier": "shr:slasher",
			"materials": {
				"default": "entity_emissive_alpha"
			},
			"textures": {
				"fp": "textures/shr/slasher/slasher_with_fp_arms",
				"tp": "textures/shr/slasher/slasher"
			},
			"geometry": {
				"fp": "geometry.shr.slasher.fp",
				"tp": "geometry.shr.slasher.tp"
			},
			"animations": {
				"anim.blade_rotation": "animation.shr.slasher.blade_rotation",

				"ctrl.fp": "controller.animation.shr.slasher.fp",
				"anim.fp.base_pose_reference": "animation.shr.slasher.fp.base_pose_reference",
				"anim.fp.charged_pose_reference": "animation.shr.slasher.fp.charged_pose_reference",
				"anim.fp.hidden": "animation.shr.slasher.fp.hidden",
				"anim.fp.pick": "animation.shr.slasher.fp.pick",
				"anim.fp.idle": "animation.shr.slasher.fp.idle",
				"anim.fp.quick_slash_1": "animation.shr.slasher.fp.quick_slash_1",
				"anim.fp.quick_slash_2": "animation.shr.slasher.fp.quick_slash_2",
				"anim.fp.charge": "animation.shr.slasher.fp.charge",
				"anim.fp.lunge": "animation.shr.slasher.fp.lunge",
				"anim.fp.heave_slash.start": "animation.shr.slasher.fp.heave_slash.start",
				"anim.fp.heave_slash.miss": "animation.shr.slasher.fp.heave_slash.miss",
				"anim.fp.heave_slash.hit": "animation.shr.slasher.fp.heave_slash.hit",

				"anim.tp.offset": "animation.shr.slasher.tp.offset"
			},
			"scripts": {
				"animate": [
					"anim.blade_rotation",
					{ "ctrl.fp": "c.is_first_person" },
					{ "anim.tp.offset": "!c.is_first_person" }
				],
				"initialize": [
					"v.blade_speed_mod = 0;" // Modify this variable to change the blade rotation speed
				],
				"pre_animation": [
					// Cooldowns to trigger animation state transitions
					"v.cd_pick = q.cooldown_time_remaining('slasher_pick');",
					"v.cd_quick_slash_1 = q.cooldown_time_remaining('slasher_quick_slash_1');",
					"v.cd_quick_slash_2 = q.cooldown_time_remaining('slasher_quick_slash_2');",
					"v.cd_charge = q.cooldown_time_remaining('slasher_charge');",
					"v.cd_lunge = q.cooldown_time_remaining('slasher_lunge');",
					"v.cd_heave_slash_start = q.cooldown_time_remaining('slasher_heave_slash_start');",
					"v.cd_heave_slash_miss = q.cooldown_time_remaining('slasher_heave_slash_miss');",
					"v.cd_heave_slash_hit = q.cooldown_time_remaining('slasher_heave_slash_hit');",

					// Blade rotation
					"v.blade_speed = Math.lerp(v.blade_speed ?? 0, v.blade_speed_mod, 3.4 * q.delta_time);",
					"v.blade_rotation_anim_time = (v.blade_rotation_anim_time ?? 0) + (q.delta_time * v.blade_speed);"
				]
			},
			"render_controllers": [
				{ "controller.render.shr.slasher.fp": "c.is_first_person" },
				{ "controller.render.shr.slasher.tp": "!c.is_first_person" }
			]
		}
	}
}
